<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>it.uniud.readersourcing2</groupId>
  <artifactId>RS_PDF</artifactId>
  <version>v1.0.7-alpha</version>
  <developers>
    <developer>
      <id>michael.soprano</id>
      <name>Michael Soprano</name>
      <email>michael.soprano@outlook.com</email>
      <organization>Universit√† degli Studi di Udine</organization>
      <organizationUrl>https://www.uniud.it/</organizationUrl>
      <roles>
        <role>Architect</role>
        <role>Developer</role>
      </roles>
      <timezone>Europe/Rome</timezone>
    </developer>
  </developers>
  <organization>
    <name>SISSA Medialab</name>
    <url>https://medialab.sissa.it/</url>
  </organization>
  <build>
    <sourceDirectory>src/main/kotlin</sourceDirectory>
    <testSourceDirectory>src/test/kotlin</testSourceDirectory>
    <plugins>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>exec-maven-plugin</artifactId>
        <version>1.6.0</version>
        <executions>
          <execution>
            <goals>
              <goal>exec</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <executable>maven</executable>
          <mainClass>${project.main.class}</mainClass>
          <arguments>
            <argument>-pIn</argument>
            <argument>E:\Dropbox\Universita\Assegno\Progetti\Readersourcing-2.0\Sorgenti\RS_PDF\data\Reader.pdf</argument>
            <argument>-pOut</argument>
            <argument>E:\Dropbox\Universita\Assegno\Progetti\Readersourcing-2.0\Sorgenti\RS_PDF\res\</argument>
            <argument>-c</argument>
            <argument>Link per la pagina di voto</argument>
            <argument>-u</argument>
            <argument>http://google.it</argument>
            <argument>-a</argument>
            <argument>eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE1MzQyNTIxNzl9.Qz2m-Q4hF2AGeIB7uwILY4AdQGOCzbdmnj2QhC5w5NI</argument>
            <argument>-pId</argument>
            <argument>1</argument>
          </arguments>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.jetbrains.kotlin</groupId>
        <artifactId>kotlin-maven-plugin</artifactId>
        <version>${kotlin.maven.plugin.version}</version>
        <executions>
          <execution>
            <id>compile</id>
            <phase>compile</phase>
            <goals>
              <goal>compile</goal>
            </goals>
          </execution>
          <execution>
            <id>test-compile</id>
            <phase>test-compile</phase>
            <goals>
              <goal>test-compile</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <jvmTarget>1.8</jvmTarget>
        </configuration>
      </plugin>
      <plugin>
        <artifactId>maven-dependency-plugin</artifactId>
        <version>${maven.dependency-plugin.version}</version>
        <executions>
          <execution>
            <id>copy-dependencies</id>
            <phase>prepare-package</phase>
            <goals>
              <goal>copy-dependencies</goal>
            </goals>
            <configuration>
              <outputDirectory>${project.build.directory}/lib</outputDirectory>
              <overWriteReleases>false</overWriteReleases>
              <overWriteSnapshots>false</overWriteSnapshots>
              <overWriteIfNewer>true</overWriteIfNewer>
            </configuration>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <artifactId>maven-assembly-plugin</artifactId>
        <executions>
          <execution>
            <phase>package</phase>
            <goals>
              <goal>single</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <archive>
            <manifest>
              <mainClass>${project.main.class}</mainClass>
            </manifest>
          </archive>
          <descriptors>
            <descriptor>src/main/assembly/tests-fat.xml</descriptor>
          </descriptors>
        </configuration>
      </plugin>
      <plugin>
        <artifactId>maven-jar-plugin</artifactId>
        <version>${maven.jar-plugin.version}</version>
        <executions>
          <execution>
            <goals>
              <goal>test-jar</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <archive>
            <manifest>
              <addClasspath>true</addClasspath>
              <classpathPrefix>lib/</classpathPrefix>
              <mainClass>${project.main.class}</mainClass>
            </manifest>
          </archive>
        </configuration>
      </plugin>
      <plugin>
        <artifactId>maven-shade-plugin</artifactId>
        <version>${maven.shade-plugin.version}</version>
        <executions>
          <execution>
            <phase>package</phase>
            <goals>
              <goal>shade</goal>
            </goals>
            <configuration>
              <transformers>
                <transformer>
                  <mainClass>${project.main.class}</mainClass>
                  <manifestEntries>
                    <Multi-Release>true</Multi-Release>
                  </manifestEntries>
                </transformer>
                <transformer />
              </transformers>
            </configuration>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <artifactId>maven-resources-plugin</artifactId>
        <version>${maven.resource-plugin.version}</version>
        <executions>
          <execution>
            <id>copy-files-on-build</id>
            <phase>package</phase>
            <goals>
              <goal>copy-resources</goal>
            </goals>
            <configuration>
              <outputDirectory>${local.server.output.dir}</outputDirectory>
              <resources>
                <resource>
                  <directory>${project.build.directory}</directory>
                  <include>${project.fat.jar.name}</include>
                  <filtering>false</filtering>
                </resource>
              </resources>
            </configuration>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <artifactId>maven-surefire-plugin</artifactId>
        <version>${maven.surefire-plugin.version}</version>
        <dependencies>
          <dependency>
            <groupId>org.junit.platform</groupId>
            <artifactId>junit-platform-surefire-provider</artifactId>
            <version>${junit.platform.version}</version>
          </dependency>
        </dependencies>
      </plugin>
      <plugin>
        <groupId>org.jetbrains.dokka</groupId>
        <artifactId>dokka-maven-plugin</artifactId>
        <version>${dokka.version}</version>
        <executions>
          <execution>
            <phase>none</phase>
            <goals>
              <goal>dokka</goal>
              <goal>javadoc</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <outputDir>${project.basedir}/target/docs</outputDir>
        </configuration>
      </plugin>
      <plugin>
        <artifactId>maven-clean-plugin</artifactId>
        <version>${maven.clean-plugin.version}</version>
        <configuration>
          <filesets>
            <fileset>
              <directory>log/</directory>
              <followSymlinks>false</followSymlinks>
            </fileset>
            <fileset>
              <directory>res/</directory>
              <followSymlinks>false</followSymlinks>
            </fileset>
          </filesets>
        </configuration>
      </plugin>
    </plugins>
  </build>
  <repositories>
    <repository>
      <id>central</id>
      <url>http://jcenter.bintray.com</url>
    </repository>
  </repositories>
  <pluginRepositories>
    <pluginRepository>
      <id>jcenter</id>
      <name>JCenter</name>
      <url>https://jcenter.bintray.com/</url>
    </pluginRepository>
  </pluginRepositories>
  <dependencies>
    <dependency>
      <groupId>org.jetbrains.kotlin</groupId>
      <artifactId>kotlin-test</artifactId>
      <version>1.3.41</version>
      <scope>test</scope>
      <exclusions>
        <exclusion>
          <artifactId>kotlin-test-common</artifactId>
          <groupId>org.jetbrains.kotlin</groupId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.junit.jupiter</groupId>
      <artifactId>junit-jupiter-api</artifactId>
      <version>5.5.1</version>
      <scope>test</scope>
      <exclusions>
        <exclusion>
          <artifactId>apiguardian-api</artifactId>
          <groupId>org.apiguardian</groupId>
        </exclusion>
        <exclusion>
          <artifactId>opentest4j</artifactId>
          <groupId>org.opentest4j</groupId>
        </exclusion>
        <exclusion>
          <artifactId>junit-platform-commons</artifactId>
          <groupId>org.junit.platform</groupId>
        </exclusion>
      </exclusions>
    </dependency>
    <dependency>
      <groupId>org.junit.jupiter</groupId>
      <artifactId>junit-jupiter-engine</artifactId>
      <version>5.5.1</version>
      <scope>test</scope>
      <exclusions>
        <exclusion>
          <artifactId>junit-platform-engine</artifactId>
          <groupId>org.junit.platform</groupId>
        </exclusion>
        <exclusion>
          <artifactId>apiguardian-api</artifactId>
          <groupId>org.apiguardian</groupId>
        </exclusion>
      </exclusions>
    </dependency>
  </dependencies>
  <properties>
    <kotlin.stdlib.version>1.3.41</kotlin.stdlib.version>
    <kotlin.version>1.3.41</kotlin.version>
    <apache.commons.validators>1.6</apache.commons.validators>
    <maven.resource-plugin.version>3.1.0</maven.resource-plugin.version>
    <apache.commons.cli>1.4</apache.commons.cli>
    <kotlin.reflect.version>1.3.41</kotlin.reflect.version>
    <apache.pdfbox.version>2.0.16</apache.pdfbox.version>
    <junit.jupiter.version>5.5.1</junit.jupiter.version>
    <maven.surefire-plugin.version>2.22.0</maven.surefire-plugin.version>
    <maven.dependency-plugin.version>3.1.1</maven.dependency-plugin.version>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    <maven.clean-plugin.version>3.1.0</maven.clean-plugin.version>
    <maven.jar-plugin.version>3.1.0</maven.jar-plugin.version>
    <apache.httpclient.version>4.5.9</apache.httpclient.version>
    <maven.compiler.source>1.8</maven.compiler.source>
    <kotlin.test.version>1.3.41</kotlin.test.version>
    <log4j.core.version>2.12.0</log4j.core.version>
    <project.fat.jar.name>RS_PDF-v1.0.7-alpha-shaded.jar</project.fat.jar.name>
    <maven.shade-plugin.version>3.2.1</maven.shade-plugin.version>
    <kotlin.compiler.incremental>true</kotlin.compiler.incremental>
    <local.server.output.dir>E:\Dropbox\Universita\Assegno\Progetti\Readersourcing-2.0\Sorgenti\RS_Server\lib\</local.server.output.dir>
    <maven.compiler.target>1.8</maven.compiler.target>
    <project.main.class>it.uniud.readersourcing2.program.Program</project.main.class>
    <kotlin.maven.plugin.version>1.3.41</kotlin.maven.plugin.version>
    <junit.platform.version>1.3.2</junit.platform.version>
    <com.google.zxing>3.4.0</com.google.zxing>
    <log4j.api.version>2.12.0</log4j.api.version>
    <dokka.version>0.9.16</dokka.version>
  </properties>
</project>
